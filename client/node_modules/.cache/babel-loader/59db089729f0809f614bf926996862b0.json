{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cristianying/Desktop/programming/yelp original/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cristianying/Desktop/programming/yelp original/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useContext,useEffect}from'react';import{useParams}from'react-router-dom';import{RestaurantsContext}from\"../context/RestaurantsContext\";import RestaurantFinder from'../API/RestaurantFinder';import StarRating from'../components/StarRating';import Reviews from'../components/Reviews';import AddReview from'../components/AddReview';var RestaurantsDetailPage=function RestaurantsDetailPage(){var _useParams=useParams(),id=_useParams.id;var _useContext=useContext(RestaurantsContext),selectedRestaurant=_useContext.selectedRestaurant,setSelectedRestaurant=_useContext.setSelectedRestaurant;useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return RestaurantFinder.get(\"/\".concat(id));case 3:res=_context.sent;setSelectedRestaurant(res.data.data);//console.log(res.data.data)\n_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[setSelectedRestaurant,id]);return/*#__PURE__*/React.createElement(\"div\",null,selectedRestaurant&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h1\",{className:\"text-center display-1\"},selectedRestaurant.restaurant.name),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(StarRating,{rating:selectedRestaurant.restaurant.average_rating}),/*#__PURE__*/React.createElement(\"span\",{className:\"text-warning ml-1\"},selectedRestaurant.restaurant.count?\"(\".concat(selectedRestaurant.restaurant.count,\")\"):\"(0)\")),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\"},/*#__PURE__*/React.createElement(Reviews,{reviews:selectedRestaurant.reviews})),/*#__PURE__*/React.createElement(AddReview,null)));};export default RestaurantsDetailPage;","map":{"version":3,"sources":["/Users/cristianying/Desktop/programming/yelp original/client/src/routes/RestaurantsDetailPage.jsx"],"names":["React","useContext","useEffect","useParams","RestaurantsContext","RestaurantFinder","StarRating","Reviews","AddReview","RestaurantsDetailPage","id","selectedRestaurant","setSelectedRestaurant","fetchData","get","res","data","console","log","restaurant","name","average_rating","count","reviews"],"mappings":"mWAAA,MAAOA,CAAAA,KAAP,EAAcC,UAAd,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAAQC,kBAAR,KAAiC,+BAAjC,CACA,MAAOC,CAAAA,gBAAP,KAA6B,yBAA7B,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CAEA,GAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,EAAM,gBACrBN,SAAS,EADY,CACzBO,EADyB,YACzBA,EADyB,iBAEoBT,UAAU,CAACG,kBAAD,CAF9B,CAEzBO,kBAFyB,aAEzBA,kBAFyB,CAENC,qBAFM,aAENA,qBAFM,CAIhCV,SAAS,CAAC,UAAM,CACZ,GAAMW,CAAAA,SAAS,0FAAG,iLAEQR,CAAAA,gBAAgB,CAACS,GAAjB,YAAyBJ,EAAzB,EAFR,QAEJK,GAFI,eAGVH,qBAAqB,CAACG,GAAG,CAACC,IAAJ,CAASA,IAAV,CAArB,CACA;AAJU,+EAMVC,OAAO,CAACC,GAAR,cANU,oEAAH,kBAATL,CAAAA,SAAS,0CAAf,CAUAA,SAAS,GACZ,CAZQ,CAYP,CAACD,qBAAD,CAAuBF,EAAvB,CAZO,CAAT,CAaA,mBACI,+BACKC,kBAAkB,eAChB,qDACA,0BAAI,SAAS,CAAC,uBAAd,EACEA,kBAAkB,CAACQ,UAAnB,CAA8BC,IADhC,CADA,cAIA,2BAAK,SAAS,CAAC,aAAf,eACI,oBAAC,UAAD,EAAY,MAAM,CAAET,kBAAkB,CAACQ,UAAnB,CAA8BE,cAAlD,EADJ,cAEI,4BAAM,SAAS,CAAC,mBAAhB,EACEV,kBAAkB,CAACQ,UAAnB,CAA8BG,KAA9B,YACKX,kBAAkB,CAACQ,UAAnB,CAA8BG,KADnC,MAEC,KAHH,CAFJ,CAJA,cAYA,2BAAK,SAAS,CAAC,MAAf,eACI,oBAAC,OAAD,EAAS,OAAO,CAAEX,kBAAkB,CAACY,OAArC,EADJ,CAZA,cAeA,oBAAC,SAAD,MAfA,CAFP,CADJ,CAuBS,CAxCb,CA0CA,cAAed,CAAAA,qBAAf","sourcesContent":["import React,{useContext,useEffect} from 'react';\nimport { useParams } from 'react-router-dom';\nimport {RestaurantsContext} from \"../context/RestaurantsContext\";\nimport RestaurantFinder from '../API/RestaurantFinder';\nimport StarRating from '../components/StarRating';\nimport Reviews from '../components/Reviews';\nimport AddReview from '../components/AddReview';\n\nconst RestaurantsDetailPage = () => {\n    const {id}=useParams()\n    const {selectedRestaurant,setSelectedRestaurant } = useContext(RestaurantsContext)\n\n    useEffect(() => {\n        const fetchData = async ()=>{\n            try {\n                const res = await RestaurantFinder.get(`/${id}`);\n                setSelectedRestaurant(res.data.data)\n                //console.log(res.data.data)\n            } catch (error) {\n                console.log(error)\n            }\n        }; \n        \n        fetchData();\n    },[setSelectedRestaurant,id])\n    return (\n        <div>\n            {selectedRestaurant && (\n               <>\n               <h1 className=\"text-center display-1\">\n                {selectedRestaurant.restaurant.name}\n               </h1>\n               <div className=\"text-center\">\n                   <StarRating rating={selectedRestaurant.restaurant.average_rating}/>\n                   <span className=\"text-warning ml-1\">\n                    {selectedRestaurant.restaurant.count\n                    ? `(${selectedRestaurant.restaurant.count})` \n                    : \"(0)\"}\n                   </span>\n               </div>\n               <div className=\"mt-3\">\n                   <Reviews reviews={selectedRestaurant.reviews}/>\n               </div>\n               <AddReview/>\n               </> \n            )}\n        </div>\n    )\n            }\n\nexport default RestaurantsDetailPage\n"]},"metadata":{},"sourceType":"module"}