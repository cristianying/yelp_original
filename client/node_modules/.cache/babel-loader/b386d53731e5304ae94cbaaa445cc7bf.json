{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cristianying/Desktop/programming/yelp original/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cristianying/Desktop/programming/yelp original/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/cristianying/Desktop/programming/yelp original/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import RestaurantFinder from'../API/RestaurantFinder';import{useParams,useLocation,useHistory}from'react-router-dom';import{RestaurantsContext}from\"../context/RestaurantsContext\";var AddReview=function AddReview(){//useparams get id from current URL\nvar _useParams=useParams(),id=_useParams.id;//location gives a set of info of the URL\nvar location=useLocation();//allows to refresh to a certain URL\nvar history=useHistory();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),reviewText=_useState4[0],setReviewText=_useState4[1];var _useState5=useState(\"Rating\"),_useState6=_slicedToArray(_useState5,2),rating=_useState6[0],setRating=_useState6[1];//const {selectedRestaurant,setSelectedRestaurant } = useContext(RestaurantsContext)\nvar handleSubmitReview=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return RestaurantFinder.post(\"/\".concat(id,\"/addReview\"),{name:name,review:reviewText,rating:rating});case 4:res=_context.sent;history.push(\"/\");history.push(location.pathname);_context.next=11;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function handleSubmitReview(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"form\",{action:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-8\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{value:name,onChange:function onChange(e){return setName(e.target.value);},id:\"name\",placeholder:\"name\",className:\"form-control\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-4\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"rating\"},\"Rating\"),/*#__PURE__*/React.createElement(\"select\",{value:rating,onChange:function onChange(e){return setRating(e.target.value);},id:\"rating\",className:\"custom-select\"},/*#__PURE__*/React.createElement(\"option\",{disabled:true},\"Rating\"),/*#__PURE__*/React.createElement(\"option\",{value:\"1\"},\"1\"),/*#__PURE__*/React.createElement(\"option\",{value:\"2\"},\"2\"),/*#__PURE__*/React.createElement(\"option\",{value:\"3\"},\"3\"),/*#__PURE__*/React.createElement(\"option\",{value:\"4\"},\"4\"),/*#__PURE__*/React.createElement(\"option\",{value:\"5\"},\"5\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"Review\"},\"Review\"),/*#__PURE__*/React.createElement(\"textarea\",{value:reviewText,onChange:function onChange(e){return setReviewText(e.target.value);},id:\"review\",className:\"form-control\"})),/*#__PURE__*/React.createElement(\"button\",{onClick:handleSubmitReview,className:\"btn btn-primary\"},\"Submit\")));};export default AddReview;","map":{"version":3,"sources":["/Users/cristianying/Desktop/programming/yelp original/client/src/components/AddReview.jsx"],"names":["React","useState","useContext","RestaurantFinder","useParams","useLocation","useHistory","RestaurantsContext","AddReview","id","location","history","name","setName","reviewText","setReviewText","rating","setRating","handleSubmitReview","e","preventDefault","post","review","res","push","pathname","target","value"],"mappings":"shBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAwBC,UAAxB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,gBAAP,KAA6B,yBAA7B,CACA,OAASC,SAAT,CAAoBC,WAApB,CAAiCC,UAAjC,KAAmD,kBAAnD,CACA,OAAQC,kBAAR,KAAiC,+BAAjC,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpB;AADoB,eAETJ,SAAS,EAFA,CAEbK,EAFa,YAEbA,EAFa,CAGpB;AACA,GAAMC,CAAAA,QAAQ,CAACL,WAAW,EAA1B,CACA;AACA,GAAMM,CAAAA,OAAO,CAAGL,UAAU,EAA1B,CANoB,cAQGL,QAAQ,CAAC,EAAD,CARX,wCAQbW,IARa,eAQRC,OARQ,8BASeZ,QAAQ,CAAC,EAAD,CATvB,yCASba,UATa,eASFC,aATE,8BAUQd,QAAQ,CAAC,QAAD,CAVhB,yCAUbe,MAVa,eAULC,SAVK,eAWpB;AAGA,GAAMC,CAAAA,kBAAkB,0FAAG,iBAAOC,CAAP,0HACvBA,CAAC,CAACC,cAAF,GADuB,sCAGHjB,CAAAA,gBAAgB,CAACkB,IAAjB,YAA0BZ,EAA1B,eAAyC,CACrDG,IAAI,CAAJA,IADqD,CAErDU,MAAM,CAAER,UAF6C,CAGrDE,MAAM,CAANA,MAHqD,CAAzC,CAHG,QAGbO,GAHa,eAWnBZ,OAAO,CAACa,IAAR,CAAa,GAAb,EACAb,OAAO,CAACa,IAAR,CAAad,QAAQ,CAACe,QAAtB,EAZmB,mJAAH,kBAAlBP,CAAAA,kBAAkB,4CAAxB,CAkBA,mBACI,2BAAK,SAAS,CAAC,MAAf,eACI,4BAAM,MAAM,CAAC,EAAb,eACI,2BAAK,SAAS,CAAC,UAAf,eACI,2BAAK,SAAS,CAAC,kBAAf,eACI,6BAAO,OAAO,CAAC,MAAf,SADJ,cAEI,6BACI,KAAK,CAAEN,IADX,CAEI,QAAQ,CAAE,kBAAAO,CAAC,QAAIN,CAAAA,OAAO,CAACM,CAAC,CAACO,MAAF,CAASC,KAAV,CAAX,EAFf,CAGI,EAAE,CAAC,MAHP,CAII,WAAW,CAAC,MAJhB,CAKI,SAAS,CAAC,cALd,EAFJ,CADJ,cAUI,2BAAK,SAAS,CAAC,kBAAf,eACI,6BAAO,OAAO,CAAC,QAAf,WADJ,cAEI,8BACI,KAAK,CAAEX,MADX,CAEI,QAAQ,CAAE,kBAAAG,CAAC,QAAIF,CAAAA,SAAS,CAACE,CAAC,CAACO,MAAF,CAASC,KAAV,CAAb,EAFf,CAGI,EAAE,CAAC,QAHP,CAII,SAAS,CAAC,eAJd,eAKI,8BAAQ,QAAQ,KAAhB,WALJ,cAMI,8BAAQ,KAAK,CAAC,GAAd,MANJ,cAOI,8BAAQ,KAAK,CAAC,GAAd,MAPJ,cAQI,8BAAQ,KAAK,CAAC,GAAd,MARJ,cASI,8BAAQ,KAAK,CAAC,GAAd,MATJ,cAUI,8BAAQ,KAAK,CAAC,GAAd,MAVJ,CAFJ,CAVJ,CADJ,cA2BI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,OAAO,CAAC,QAAf,WADJ,cAEI,gCACI,KAAK,CAAEb,UADX,CAEI,QAAQ,CAAE,kBAAAK,CAAC,QAAIJ,CAAAA,aAAa,CAACI,CAAC,CAACO,MAAF,CAASC,KAAV,CAAjB,EAFf,CAGI,EAAE,CAAC,QAHP,CAII,SAAS,CAAC,cAJd,EAFJ,CA3BJ,cAmCI,8BAAQ,OAAO,CAAET,kBAAjB,CAAqC,SAAS,CAAC,iBAA/C,WAnCJ,CADJ,CADJ,CAyCH,CAzED,CA2EA,cAAeV,CAAAA,SAAf","sourcesContent":["import React, {useState,useContext} from 'react'\nimport RestaurantFinder from '../API/RestaurantFinder'\nimport { useParams, useLocation, useHistory } from 'react-router-dom'\nimport {RestaurantsContext} from \"../context/RestaurantsContext\";\n\nconst AddReview = () => {\n    //useparams get id from current URL\n    const {id}=useParams();\n    //location gives a set of info of the URL\n    const location=useLocation();\n    //allows to refresh to a certain URL\n    const history = useHistory();\n\n    const [name,setName] = useState(\"\")\n    const [reviewText,setReviewText] = useState(\"\")\n    const [rating, setRating] = useState(\"Rating\")\n    //const {selectedRestaurant,setSelectedRestaurant } = useContext(RestaurantsContext)\n\n    \n    const handleSubmitReview = async (e) => {\n        e.preventDefault()\n        try {\n            const res=await RestaurantFinder.post(`/${id}/addReview`,{\n                name,\n                review: reviewText,\n                rating\n            })\n\n          \n\n            history.push(\"/\");\n            history.push(location.pathname);\n        } catch (error) {\n            \n        }\n        \n    }\n    return (\n        <div className=\"mb-2\">\n            <form action=\"\">\n                <div className=\"form-row\">\n                    <div className=\"form-group col-8\">\n                        <label htmlFor=\"name\">Name</label>\n                        <input \n                            value={name}\n                            onChange={e => setName(e.target.value)}\n                            id=\"name\" \n                            placeholder=\"name\" \n                            className=\"form-control\"/>\n                    </div>\n                    <div className=\"form-group col-4\">\n                        <label htmlFor=\"rating\">Rating</label>\n                        <select \n                            value={rating}\n                            onChange={e => setRating(e.target.value)}\n                            id=\"rating\" \n                            className=\"custom-select\">\n                            <option disabled>Rating</option>\n                            <option value=\"1\">1</option>\n                            <option value=\"2\">2</option>\n                            <option value=\"3\">3</option>\n                            <option value=\"4\">4</option>\n                            <option value=\"5\">5</option>\n                        </select>\n                    </div>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"Review\">Review</label>\n                    <textarea\n                        value={reviewText}\n                        onChange={e => setReviewText(e.target.value)} \n                        id=\"review\" \n                        className=\"form-control\"></textarea>\n                </div>\n                <button onClick={handleSubmitReview} className=\"btn btn-primary\">Submit</button>\n            </form>\n        </div>\n    )\n}\n\nexport default AddReview\n"]},"metadata":{},"sourceType":"module"}