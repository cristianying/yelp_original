{"ast":null,"code":"var _jsxFileName = \"/Users/cristianying/Desktop/programming/yelp original/client/src/routes/RestaurantsDetailPage.jsx\";\nimport React, { useContext, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { RestaurantsContext } from \"../context/RestaurantsContext\";\nimport RestaurantFinder from '../API/RestaurantFinder';\nimport StarRating from '../components/StarRating';\nimport Reviews from '../components/Reviews';\nimport AddReview from '../components/AddReview';\n\nconst RestaurantsDetailPage = () => {\n  const {\n    id\n  } = useParams();\n  const {\n    selectedRestaurant,\n    setSelectedRestaurant\n  } = useContext(RestaurantsContext);\n  const {\n    reviews,\n    setReviews\n  } = useContext(RestaurantsContext);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const res = await RestaurantFinder.get(`/api/v1/restaurants/${id}`);\n        setSelectedRestaurant(res.data.data);\n        setReviews(res.data.data.reviews); //console.log(res.data.data)\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    fetchData();\n  }, [id, setSelectedRestaurant]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, selectedRestaurant && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center display-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 16\n    }\n  }, selectedRestaurant.restaurant.name), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(StarRating, {\n    rating: selectedRestaurant.restaurant.average_rating,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 20\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-warning ml-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 20\n    }\n  }, selectedRestaurant.restaurant.count ? `(${selectedRestaurant.restaurant.count})` : \"(0)\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(Reviews, {\n    reviews: reviews,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 20\n    }\n  })), /*#__PURE__*/React.createElement(AddReview, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 16\n    }\n  })));\n};\n\nexport default RestaurantsDetailPage;","map":{"version":3,"sources":["/Users/cristianying/Desktop/programming/yelp original/client/src/routes/RestaurantsDetailPage.jsx"],"names":["React","useContext","useEffect","useParams","RestaurantsContext","RestaurantFinder","StarRating","Reviews","AddReview","RestaurantsDetailPage","id","selectedRestaurant","setSelectedRestaurant","reviews","setReviews","fetchData","res","get","data","error","console","log","restaurant","name","average_rating","count"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,UAAd,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAAQC,kBAAR,QAAiC,+BAAjC;AACA,OAAOC,gBAAP,MAA6B,yBAA7B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;;AAEA,MAAMC,qBAAqB,GAAG,MAAM;AAChC,QAAM;AAACC,IAAAA;AAAD,MAAKP,SAAS,EAApB;AACA,QAAM;AAACQ,IAAAA,kBAAD;AAAoBC,IAAAA;AAApB,MAA8CX,UAAU,CAACG,kBAAD,CAA9D;AACA,QAAM;AAACS,IAAAA,OAAD;AAASC,IAAAA;AAAT,MAAwBb,UAAU,CAACG,kBAAD,CAAxC;AAGAF,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMa,SAAS,GAAG,YAAU;AACxB,UAAI;AACA,cAAMC,GAAG,GAAG,MAAMX,gBAAgB,CAACY,GAAjB,CAAsB,uBAAsBP,EAAG,EAA/C,CAAlB;AACAE,QAAAA,qBAAqB,CAACI,GAAG,CAACE,IAAJ,CAASA,IAAV,CAArB;AACAJ,QAAAA,UAAU,CAACE,GAAG,CAACE,IAAJ,CAASA,IAAT,CAAcL,OAAf,CAAV,CAHA,CAIA;AACH,OALD,CAKE,OAAOM,KAAP,EAAc;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH;AAEJ,KAVD;;AAWAJ,IAAAA,SAAS;AACZ,GAbQ,EAaP,CAACL,EAAD,EAAIE,qBAAJ,CAbO,CAAT;AAeA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKD,kBAAkB,iBAChB,uDACA;AAAI,IAAA,SAAS,EAAC,uBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEA,kBAAkB,CAACW,UAAnB,CAA8BC,IADhC,CADA,eAIA;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAY,IAAA,MAAM,EAAEZ,kBAAkB,CAACW,UAAnB,CAA8BE,cAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAM,IAAA,SAAS,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEb,kBAAkB,CAACW,UAAnB,CAA8BG,KAA9B,GACE,IAAGd,kBAAkB,CAACW,UAAnB,CAA8BG,KAAM,GADzC,GAEC,KAHH,CAFJ,CAJA,eAYA;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,OAAD;AAAS,IAAA,OAAO,EAAEZ,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAZA,eAeA,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfA,CAFP,CADJ;AAuBS,CA5Cb;;AA8CA,eAAeJ,qBAAf","sourcesContent":["import React,{useContext,useEffect} from 'react';\nimport { useParams } from 'react-router-dom';\nimport {RestaurantsContext} from \"../context/RestaurantsContext\";\nimport RestaurantFinder from '../API/RestaurantFinder';\nimport StarRating from '../components/StarRating';\nimport Reviews from '../components/Reviews';\nimport AddReview from '../components/AddReview';\n\nconst RestaurantsDetailPage = () => {\n    const {id}=useParams()\n    const {selectedRestaurant,setSelectedRestaurant } = useContext(RestaurantsContext)\n    const {reviews,setReviews } = useContext(RestaurantsContext)\n    \n    \n    useEffect(() => {\n        const fetchData = async ()=>{\n            try {\n                const res = await RestaurantFinder.get(`/api/v1/restaurants/${id}`);\n                setSelectedRestaurant(res.data.data)\n                setReviews(res.data.data.reviews)\n                //console.log(res.data.data)\n            } catch (error) {\n                console.log(error)\n            }\n           \n        }; \n        fetchData();\n    },[id,setSelectedRestaurant])\n\n    return (\n        <div>\n            {selectedRestaurant && (\n               <>\n               <h1 className=\"text-center display-1\">\n                {selectedRestaurant.restaurant.name}\n               </h1>\n               <div className=\"text-center\">\n                   <StarRating rating={selectedRestaurant.restaurant.average_rating}/>\n                   <span className=\"text-warning ml-1\">\n                    {selectedRestaurant.restaurant.count\n                    ? `(${selectedRestaurant.restaurant.count})` \n                    : \"(0)\"}\n                   </span>\n               </div>\n               <div className=\"mt-3\">\n                   <Reviews reviews={reviews}/>\n               </div>\n               <AddReview/>\n               </> \n            )}\n        </div>\n    )\n            }\n\nexport default RestaurantsDetailPage\n"]},"metadata":{},"sourceType":"module"}