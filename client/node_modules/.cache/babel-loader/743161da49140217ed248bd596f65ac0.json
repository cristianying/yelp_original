{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cristianying/Desktop/programming/yelp original/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cristianying/Desktop/programming/yelp original/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/cristianying/Desktop/programming/yelp original/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useParams,useHistory}from'react-router-dom';import RestaurantFinder from'../API/RestaurantFinder';var UpdateRestaurant=function UpdateRestaurant(){//useParams gets the ID in the URL\nvar _useParams=useParams(),id=_useParams.id;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),location=_useState4[0],setLocation=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),priceRange=_useState6[0],setPriceRange=_useState6[1];var history=useHistory();//not using context because if you go directly to the URL\n//without going first to the homepage it will throw an error\n//but by getting it from the server directly it will be ok\n//more info video  4:15:20\nuseEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return RestaurantFinder.get(\"/\".concat(id));case 2:res=_context.sent;setName(res.data.data.restaurant.name);setLocation(res.data.data.restaurant.location);setPriceRange(res.data.data.restaurant.price_range);case 6:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[id,setName,setLocation,setPriceRange]);var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return RestaurantFinder.put(\"/\".concat(id),{name:name,location:location,price_range:priceRange});case 3:history.push(\"/\");case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{action:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{value:name,onChange:function onChange(e){return setName(e.target.value);},id:\"name\",className:\"form-control\",type:\"text\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"location\"},\"location\"),/*#__PURE__*/React.createElement(\"input\",{value:location,onChange:function onChange(e){return setLocation(e.target.value);},id:\"location\",className:\"form-control\",type:\"text\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"price_range\"},\"Price Range\"),/*#__PURE__*/React.createElement(\"input\",{value:priceRange,onChange:function onChange(e){return setPriceRange(e.target.value);},id:\"price_range\",className:\"form-control\",type:\"number\"})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",onClick:handleSubmit,className:\"btn btn-primary\"},\"Submit\")));};export default UpdateRestaurant;","map":{"version":3,"sources":["/Users/cristianying/Desktop/programming/yelp original/client/src/components/UpdateRestaurant.jsx"],"names":["React","useState","useEffect","useParams","useHistory","RestaurantFinder","UpdateRestaurant","id","name","setName","location","setLocation","priceRange","setPriceRange","history","fetchData","get","res","data","restaurant","price_range","handleSubmit","e","preventDefault","put","push","target","value"],"mappings":"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","sourcesContent":["import React, {useState,useEffect} from 'react'\nimport { useParams, useHistory } from 'react-router-dom'\nimport RestaurantFinder from '../API/RestaurantFinder';\n\nconst UpdateRestaurant = () => {\n    //useParams gets the ID in the URL\n    const {id} = useParams();\n    const [name,setName] = useState(\"\");\n    const [location,setLocation] = useState(\"\");\n    const [priceRange,setPriceRange] = useState(\"\");\n    let history = useHistory()\n\n    //not using context because if you go directly to the URL\n    //without going first to the homepage it will throw an error\n    //but by getting it from the server directly it will be ok\n    //more info video  4:15:20\n    useEffect(() => {\n        \n        const fetchData = async () => {\n            const res =await RestaurantFinder.get(`/${id}`);\n            setName(res.data.data.restaurant.name);\n            setLocation(res.data.data.restaurant.location);\n            setPriceRange(res.data.data.restaurant.price_range);\n        }\n        fetchData();\n    }, [id,setName,setLocation,setPriceRange])\n    \n    const handleSubmit = async (e) =>{\n        e.preventDefault()\n\n        await RestaurantFinder.put(`/${id}`,{\n            name,\n            location,\n            price_range: priceRange\n        });\n        history.push(\"/\");\n    }\n    return (\n        <div>\n            <form action=\"\" >\n                <div className=\"form-group\">\n                    <label htmlFor=\"name\">Name</label>\n                    <input \n                        value={name} \n                        onChange={(e) => setName(e.target.value)} \n                        id=\"name\" \n                        className=\"form-control\" \n                        type=\"text\"\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"location\">location</label>\n                    <input \n                        value={location} \n                        onChange={(e) => setLocation(e.target.value)} \n                        id=\"location\" \n                        className=\"form-control\" \n                        type=\"text\"\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"price_range\">Price Range</label>\n                    <input \n                        value={priceRange} \n                        onChange={(e) => setPriceRange(e.target.value)} \n                        id=\"price_range\" \n                        className=\"form-control\" \n                        type=\"number\"/>\n                </div>\n                <button type=\"submit\" onClick={handleSubmit} className=\"btn btn-primary\">Submit</button>\n            </form>\n        </div>\n    )\n}\n\nexport default UpdateRestaurant\n"]},"metadata":{},"sourceType":"module"}